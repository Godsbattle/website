{{ define "main" }}
<style>
  /* â”€â”€ Success card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .pt-success-card {
    max-width: 30rem;
    margin: 0 auto;
    text-align: center;
    padding: 3rem 2rem 3.5rem;
  }

  .pt-success-icon {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    background: linear-gradient(135deg, #5eead4 0%, #93c5fd 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.75rem;
    box-shadow: 0 0 32px 6px rgba(94,234,212,0.25);
  }

  .pt-success-icon svg {
    width: 36px;
    height: 36px;
    stroke: #fff;
    stroke-width: 2.5;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .pt-success-title {
    font-size: clamp(2rem, 6vw, 3rem);
    font-weight: 800;
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 1rem;
  }

  .pt-success-sub {
    font-size: 1rem;
    opacity: 0.55;
    line-height: 1.6;
    margin-bottom: 2.5rem;
  }

  .pt-back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.875rem;
    font-weight: 500;
    opacity: 0.5;
    transition: opacity 0.15s;
    text-decoration: none;
  }
  .pt-back-link:hover { opacity: 0.85; }
</style>

<!-- â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="w-full max-w-4xl mx-auto px-4 sm:px-8 pt-20 pb-24">
  <div class="pt-success-card">

    <!-- Check icon -->
    <div class="pt-success-icon">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <polyline points="20 6 9 17 4 12"/>
      </svg>
    </div>

    <h1 class="pt-success-title">You're in! ðŸŽ‰</h1>

    <p class="pt-success-sub">
      Your copy of <strong>Prop Tracker</strong> is confirmed.<br>
      Check your email for access details.
    </p>

    <a href="/proptracker/" class="pt-back-link">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M19 12H5"/><path d="m12 19-7-7 7-7"/>
      </svg>
      Back to Prop Tracker
    </a>

  </div>
</section>

<script>
/* â”€â”€ Branded confetti on page load â”€â”€ */
(function () {
  var canvas = document.createElement('canvas');
  canvas.style.cssText = 'position:fixed;inset:0;width:100%;height:100%;pointer-events:none;z-index:9999;';
  document.body.appendChild(canvas);
  var ctx = canvas.getContext('2d');
  canvas.width  = window.innerWidth;
  canvas.height = window.innerHeight;
  var W = canvas.width, H = canvas.height;

  var colors = ['#ffffff','#e2e8f0','#93c5fd','#c4b5fd','#5eead4','#fda4af','#fdba74'];
  var particles = [];
  var origins = [{ x: W * 0.28, y: H * 0.68 }, { x: W * 0.72, y: H * 0.68 }];

  for (var i = 0; i < 160; i++) {
    var o     = origins[i % 2];
    var side  = o.x < W / 2 ? 1 : -1;
    var speed = Math.random() * 9 + 4;
    var deg   = -90 + side * (Math.random() * 45);
    var rad   = deg * Math.PI / 180;
    particles.push({
      x: o.x + (Math.random() - 0.5) * 30, y: o.y,
      vx: Math.cos(rad) * speed,
      vy: Math.sin(rad) * speed,
      size: Math.random() * 7 + 3,
      color: colors[Math.floor(Math.random() * colors.length)],
      rotation: Math.random() * 360,
      rotSpeed: (Math.random() - 0.5) * 10,
      shape: Math.random() > 0.4 ? 'rect' : 'circle',
      wobble: Math.random() * Math.PI * 2,
      wobbleSpeed: Math.random() * 0.08 + 0.04
    });
  }

  var start    = Date.now();
  var duration = 4000;

  function draw() {
    var elapsed = Date.now() - start;
    if (elapsed > duration) { canvas.remove(); return; }
    ctx.clearRect(0, 0, W, H);
    var progress = elapsed / duration;

    particles.forEach(function (p) {
      p.vy += 0.18;
      p.vx *= 0.99;
      p.wobble += p.wobbleSpeed;
      p.x += p.vx + Math.sin(p.wobble) * 0.4;
      p.y += p.vy;
      p.rotation += p.rotSpeed;
      var alpha = Math.max(0, 1 - Math.pow(progress, 1.5));
      ctx.save();
      ctx.globalAlpha = alpha;
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rotation * Math.PI / 180);
      ctx.fillStyle = p.color;
      if (p.shape === 'rect') {
        ctx.fillRect(-p.size / 2, -p.size * 0.28, p.size, p.size * 0.56);
      } else {
        ctx.beginPath();
        ctx.arc(0, 0, p.size * 0.45, 0, Math.PI * 2);
        ctx.fill();
      }
      ctx.restore();
    });
    requestAnimationFrame(draw);
  }

  /* slight delay so page has painted before confetti starts */
  setTimeout(function () { requestAnimationFrame(draw); }, 120);
})();
</script>
{{ end }}
